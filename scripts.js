
    const i18n = {
        en: {
            hero_title: "Anas Lachhab",
            stat_age: "25 Years Old",
            stat_status: "Single",
            stat_loc: "Rabat, Morocco",
            stat_relocate: "Open to Relocate",
            hero_catch: "\"Turning chaos into clarity through Data, and manual tasks into history through Automation.\"",
            btn_contact: "Hire Me",
            btn_cv: "Download CV",
            map_title: "Limitless Deployment",
            map_desc: "My code is cloud-native, and so am I. While I am based in Rabat, my ambition is borderless. I am actively seeking international opportunities and I am <strong>fully prepared to relocate</strong> anywhere in the world.",
            badge_passport: "Passport Ready",
            skills_title: "Technical Arsenal",
            skills_sub: "The tools I use to build the future.",
            cat_ai_title: 'AI & Automation',
            cat_ai_list: '<li>n8n</li><li>Make.com / Zapier</li><li>OpenAI API</li><li>Voiceflow</li><li>LangChain</li>',
            cat_data_title: 'Data Engineering',
            cat_data_list: '<li>Python (Pandas, NumPy)</li><li>SQL (Postgres)</li><li>MongoDB</li><li>Web Scraping</li><li>Tensorflow</li>',
            cat_market_title: 'Business & Tools',
            cat_market_list: '<li>SEO Strategies</li><li>Google Analytics 4</li><li>Odoo ERP</li><li>Power BI</li><li>Figma / Adobe Suite</li>',
            exp_title: "Career Timeline",
            exp_targetup_list: "<li>Designing automated workflows with Python and low-code tools.</li><li>Managing digital marketing and team leadership.</li>",
            exp_ifcar_list: "<li>Developed AI Resume Classifier via n8n.</li><li>Managed Odoo ERP and improved SEO strategies.</li>",
            exp_sorec_list: "<li>Analyzed datasets and built interactive dashboards.</li>",
            edu_title: "Education",
            degree_title: "Licence in Economics & Management",
            proj_title: "Selected Works",
            proj_sub: "Automation in action.",
            proj_wa: "Automated customer service using n8n & OpenAI.",
            proj_cv: "Gmail parser that ranks applicants automatically.",
            proj_dash: "Real-time data visualization with Python Streamlit.",
            proj_lead: "Apollo to Odoo CRM automated pipeline.",
            contact_title: "Let's Connect",
            contact_sub: "Ready to discuss relocation or remote opportunities."
        },
        fr: {
            hero_title: "Anas Lachhab",
            stat_age: "25 Ans",
            stat_status: "Célibataire",
            stat_loc: "Rabat, Maroc",
            stat_relocate: "Mobile à l'international",
            hero_catch: "\"Transformer le chaos en clarté grâce aux données, et les tâches manuelles en histoire ancienne.\"",
            btn_contact: "M'embaucher",
            btn_cv: "Télécharger CV",
            map_title: "Déploiement Illimité",
            map_desc: "Mon code est cloud-native, et moi aussi. Bien que basé à Rabat, mon ambition est sans frontières. Je suis activement à la recherche d'opportunités internationales et <strong>prêt à me délocaliser</strong> n'importe où dans le monde.",
            badge_passport: "Passeport Prêt",
            skills_title: "Arsenal Technique",
            skills_sub: "Les outils que j'utilise pour construire le futur.",
            cat_ai_title: 'IA & Automatisation',
            cat_ai_list: '<li>n8n</li><li>Make.com / Zapier</li><li>API OpenAI</li><li>Voiceflow</li><li>LangChain</li>',
            cat_data_title: 'Ingénierie des Données',
            cat_data_list: '<li>Python (Pandas, NumPy)</li><li>SQL (Postgres)</li><li>MongoDB</li><li>Web Scraping</li><li>Tensorflow</li>',
            cat_market_title: 'Business & Outils',
            cat_market_list: '<li>Stratégies SEO</li><li>Google Analytics 4</li><li>Odoo ERP</li><li>Power BI</li><li>Figma / Suite Adobe</li>',
            exp_title: "Parcours Professionnel",
            exp_targetup_list: "<li>Conception de workflows automatisés avec Python.</li><li>Gestion du marketing digital et leadership.</li>",
            exp_ifcar_list: "<li>Développement classificateur de CV IA via n8n.</li><li>Gestion Odoo ERP et SEO.</li>",
            exp_sorec_list: "<li>Analyse de données et tableaux de bord interactifs.</li>",
            edu_title: "Éducation",
            degree_title: "Licence en Économie et Gestion",
            proj_title: "Travaux Sélectionnés",
            proj_sub: "L'automatisation en action.",
            proj_wa: "Service client automatisé via n8n & OpenAI.",
            proj_cv: "Filtre Gmail qui classe les candidats automatiquement.",
            proj_dash: "Visualisation temps réel avec Python Streamlit.",
            proj_lead: "Pipeline automatisé Apollo vers Odoo CRM.",
            contact_title: "Connectons-nous",
            contact_sub: "Prêt à discuter d'opportunités de relocation ou remote."
        },
        ar: {
            hero_title: "أنس لشهب",
            stat_age: "25 سنة",
            stat_status: "عازب",
            stat_loc: "الرباط، المغرب",
            stat_relocate: "مستعد للانتقال",
            hero_catch: "\"تحويل الفوضى إلى وضوح بالبيانات، والمهام اليدوية إلى تاريخ عبر الأتمتة.\"",
            btn_contact: "وظفني",
            btn_cv: "تحميل السيرة",
            map_title: "نشر بلا حدود",
            map_desc: "الكود الخاص بي سحابي، وكذلك أنا. بينما أنا مقيم في الرباط، طموحي بلا حدود. أنا أبحث بنشاط عن فرص دولية و<strong>مستعد تماماً للانتقال</strong> إلى أي مكان في العالم.",
            badge_passport: "جواز السفر جاهز",
            skills_title: "الترسانة التقنية",
            skills_sub: "الأدوات التي أستخدمها لبناء المستقبل.",
            cat_ai_title: 'الذكاء الاصطناعي والأتمتة',
            cat_ai_list: '<li>n8n</li><li>Make.com / Zapier</li><li>OpenAI API</li><li>Voiceflow</li><li>LangChain</li>',
            cat_data_title: 'هندسة البيانات',
            cat_data_list: '<li>Python (Pandas, NumPy)</li><li>SQL (Postgres)</li><li>MongoDB</li><li>Web Scraping</li><li>Tensorflow</li>',
            cat_market_title: 'الأعمال والأدوات',
            cat_market_list: '<li>استراتيجيات SEO</li><li>Google Analytics 4</li><li>Odoo ERP</li><li>Power BI</li><li>Figma / Adobe</li>',
            exp_title: "المسار المهني",
            exp_targetup_list: "<li>تصميم سير عمل مؤتمت باستخدام Python.</li><li>إدارة التسويق الرقمي وقيادة الفريق.</li>",
            exp_ifcar_list: "<li>تطوير مصنف السيرة الذاتية بالذكاء الاصطناعي.</li><li>إدارة Odoo ERP وتحسين SEO.</li>",
            exp_sorec_list: "<li>تحليل مجموعات البيانات وبناء لوحات معلومات.</li>",
            edu_title: "التعليم",
            degree_title: "إجازة في الاقتصاد والإدارة",
            proj_title: "مشاريع مختارة",
            proj_sub: "الأتمتة في العمل.",
            proj_wa: "خدمة عملاء آلية باستخدام n8n و OpenAI.",
            proj_cv: "فلتر Gmail لتصنيف المتقدمين تلقائياً.",
            proj_dash: "تصور بيانات فوري باستخدام Python Streamlit.",
            proj_lead: "خط أتمتة من Apollo إلى Odoo CRM.",
            contact_title: "لنتواصل",
            contact_sub: "مستعد لمناقشة فرص الانتقال أو العمل عن بعد."
        }
    };

    const roleTitles = {
        en: ["Data Analyst", "AI & Automation Expert"],
        fr: ["Analyste de Données", "Expert en IA & Automatisation"],
        ar: ["محلل بيانات", "خبير الذكاء الاصطناعي والأتمتة"]
    };

    let currentLang = 'en';

    function setLang(lang) {
        currentLang = lang;
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('btn-' + lang).classList.add('active');
        
        if(lang === 'ar') {
            document.body.setAttribute('dir', 'rtl');
        } else {
            document.body.setAttribute('dir', 'ltr');
        }

        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if(i18n[lang][key]) el.innerHTML = i18n[lang][key];
        });

        wordIndex = 0;
        charIndex = 0;
        isDeleting = false;
        typeLoop();
    }

    function toggleTheme() {
        const body = document.body;
        const isDark = body.getAttribute('data-theme') === 'dark';
        body.setAttribute('data-theme', isDark ? 'light' : 'dark');
        const icon = document.querySelector('.theme-btn i');
        icon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
    }

    const typingText = document.querySelector("#animated-role .typing-text");
    let wordIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    let typingTimeout;

    function typeLoop() {
        clearTimeout(typingTimeout);
        const titles = roleTitles[currentLang];
        const currentWord = titles[wordIndex];
        
        if (isDeleting) {
            typingText.textContent = currentWord.substring(0, charIndex - 1);
            charIndex--;
        } else {
            typingText.textContent = currentWord.substring(0, charIndex + 1);
            charIndex++;
        }

        let typeSpeed = isDeleting ? 100 : 200;

        if (!isDeleting && charIndex === currentWord.length) {
            typeSpeed = 2000;
            isDeleting = true;
        } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            wordIndex = (wordIndex + 1) % titles.length;
        }
        
        typingTimeout = setTimeout(typeLoop, typeSpeed);
    }

    document.addEventListener('DOMContentLoaded', () => {
        // ADDED: Force scroll to top on page load
        window.scrollTo(0, 0);
        
        typeLoop();
    });
